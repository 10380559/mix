#!/usr/bin/env php
<?php declare(strict_types=1);

require __DIR__ . '/../vendor/autoload.php';

use Mix\Concurrent\Coroutine;
use Symfony\Component\Dotenv\Dotenv;

// Coroutine
Coroutine::enableHook();
Coroutine::set([
    'max_coroutine'    => 300000,
    'enable_coroutine' => false,
]);

// environment
$dotenv = new Dotenv();
$dotenv->load(__DIR__ . '/../.env');

// Run application
$config = require __DIR__ . '/../vendor/mix/http-daemon/config/main.php';
(Mix::$console = new Mix\Console\Application($config))->run();
